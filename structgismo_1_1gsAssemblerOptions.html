<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<title>G+Smo: gsAssemblerOptions Struct Reference</title>
<link href="gismodoxy_tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://people.ricam.oeaw.ac.at/gismo/mj/MathJax.js"></script>
<link href="doxygen.css"   rel="stylesheet" type="text/css" />
<link href="gismodoxy.css" rel="stylesheet" type="text/css">
<!--  -->
<!-- <script type="text/javascript"> -->
<!-- </script> -->
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- <a name="top"></a> -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="gslogo-doxy.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname"><a href="index.html"><font style="font-variant:small-caps;">G+S</font><font style="font-variant:small-caps;"
															    color="#000000">mo</font></a>
   &#160;<span id="projectnumber">25.01.0</span>
   </div>
   <div id="projectbrief">Geometry + Simulation Modules</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('structgismo_1_1gsAssemblerOptions.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="structgismo_1_1gsAssemblerOptions-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">gsAssemblerOptions Struct Reference</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Info Stucture, which should keep track of the structure of the considered PDE and Discretization. This class brings together information about the different unknown and eachs components, which basis corresponds to which component and the transformation for the several unknowns.</p>
<p>It is assumed that we order the components consecutive, e.g. we have a PDE with 2 unknown, the first has 1 component and the second one 2. This means, we have in total 3 components, the first corresponds to unk 1 the second and the third to unk 2. If we want to have different solution and test spaces, we have the double ammount of components, where the second half corresponds to the trial variables. These have the same structure as the solution variables (same dimension of each variable). Each component (including the trial space) is assigned a basis, which might be equal. The purpose is to keep track, which basis belongs to which component, to prevent evaluation the same basis twice, which is a very costly part of IgA.</p>
<p>Furthermore, the class stores, which transformation is used for which unknown (all components of this unknown must have the same transformation). Only in the case of HGrad conforming transformation, the transformation applies to all components of the unknown in the same way. Hence, the transformation is connected to the whole unknown.</p>
<p>class gsAssemblerSetup { public:</p>
<p>Standard case is Poisson Case gsAssemblerSetup() { m_comp2basis.setOnes(1); m_unkDims.setOnes(1);</p>
<p>nUnk= 1; nComp = 1;</p>
<p>m_transforms.push_back (transform::Hgrad);</p>
<p>index_t c=0; m_unk2comp.resize(nUnk); m_comp2unk.resize(nComp); for(index_t unk=0; unk&lt;nUnk;++unk) { m_unk2comp[unk].resize(m_unkDims[unk]); for(unsigned comp=0; comp&lt;m_unkDims[unk];++comp,++c) { m_unk2comp[unk][comp]= c; m_comp2unk[c]=unk; } } }</p>
<p>initialize the info structure with your settings of the discretization and the PDE. comp2basis describes a map from every component (sequentially numbered) to each basis see also SparseSystem. This information is contained in both clases. </p><pre class="fragment">template&lt;typename T&gt;
void init(const gsPde&lt;T&gt;&amp; pde, const gsVector&lt;index_t&gt;&amp; comp2basis)
{
    m_comp2basis = comp2basis;
    m_unkDims= pde.unknownDim();

    nUnk= m_unkDims.size();
    nComp = m_unkDims.sum();

    usingDifferentTrialSpaces = false;
    if(nComp==2*m_comp2basis.size())
        usingDifferentTrialSpaces=true;
    else if(nComp!=m_comp2basis.size())
        GISMO_ERROR("You messed up something, number of components does not match the ones from the PDE");

    m_transforms.resize(nUnk);
    for(index_t unk=0; unk&lt;nUnk;++unk)
        m_transforms[unk] = transform::Hgrad;

    index_t c=0;
    m_unk2comp.resize(nUnk);
    m_comp2unk.resize(nComp);
    for(index_t unk=0; unk&lt;nUnk;++unk)
    {
        m_unk2comp[unk].resize(m_unkDims[unk]);
        for(unsigned comp=0; comp&lt;m_unkDims[unk];++comp,++c)
        {
            m_unk2comp[unk][comp]= c;
            m_comp2unk[c]=unk;
        }
    }
}
</pre><p>public:</p>
<p>Accessor funtions, to be completed. </p><pre class="fragment">inline bool trialSpaceNotIdentical() const {return usingDifferentTrialSpaces;}
inline bool isTrialSpace(index_t compWithTrial)   const {return compWithTrial&gt;= nComp ? true: false;}

inline index_t getUnk(index_t compWithTrial) const {return m_comp2unk[compWithTrial%nComp];}

inline const gsVector&lt;index_t&gt;&amp; getAllBasis() const {return m_comp2basis;}
inline index_t getBasis(index_t compWithTrial) const {return m_comp2basis[compWithTrial];}

inline index_t getBasis(index_t comp, bool testSpace) const
{
    return m_comp2basis[usingDifferentTrialSpaces &amp;&amp; testSpace ? comp+nComp : comp];
}

inline index_t getBasis(index_t unk, index_t comp_unk, bool testSpace=false) const
{
    return getBasis(m_unk2comp[unk][comp_unk], testSpace);
}

inline void setTransform(index_t unk, transform::type trans) { m_transforms[unk]=trans;}
inline const transform::type&amp; getTransform(index_t unk)const {return m_transforms[unk];}

inline const gsVector&lt;index_t&gt; &amp; getComp(index_t unk)const {return m_unk2comp[unk];}

inline const gsVector&lt;unsigned&gt;&amp; unknownDims() const { return m_unkDims; }
inline unsigned  unknownDims(index_t unk) const { return m_unkDims[unk]; }

inline index_t  nUnknown() const { return nUnk; }
inline index_t  nComponents(bool withTrialSpace=false) const { return withTrialSpace ? 2*nComp : nComp ; }
</pre><p> private: </p><pre class="fragment">gsVector&lt;index_t&gt; m_comp2basis;
gsVector&lt;unsigned&gt; m_unkDims;
std::vector&lt;transform::type&gt; m_transforms;

std::vector&lt;gsVector&lt; index_t&gt; &gt; m_unk2comp;
std::vector&lt; index_t&gt; m_comp2unk;

index_t nUnk;
index_t nComp;

bool usingDifferentTrialSpaces;
</pre><p> }; </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacegismo.html">gismo</a></li><li class="navelem"><a class="el" href="structgismo_1_1gsAssemblerOptions.html">gsAssemblerOptions</a></li>
    <li class="footer">Generated on Mon Jan 20 2025 09:35:27 for G+Smo by Doxygen v1.9.8 </li>
  </ul>
</div>
<!-- Piwik --> 
<!--
<script type="text/javascript">
var pkBaseURL = (("https:" == document.location.protocol) ? "https://stats.sylphide-consulting.com/piwik/" : "http://stats.sylphide-consulting.com/piwik/");
document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script><script type="text/javascript">
try {
var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 20);
piwikTracker.trackPageView();
piwikTracker.enableLinkTracking();
} catch( err ) {}
</script><noscript><p><img src="http://stats.sylphide-consulting.com/piwik/piwik.php?idsite=20" style="border:0" alt="" /></p></noscript>
-->
<!-- End Piwik Tracking Code -->
</body>
</html>
